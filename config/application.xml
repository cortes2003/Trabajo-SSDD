<icegrid>
  <application name="SpotificeApp">
    <!-- Definici칩n del servidor MediaServer en node1 -->
    <server-template id="MediaServerTemplate">
      <parameter name="index"/>
      <server id="MediaServer-${index}" exe="python3" activation="always" pwd="/home/alberto/Escritorio/Curso 2526/SSDD/Trabajo SSDD/Trabajo-SSDD">
        <adapter name="MediaServerAdapter" endpoints="tcp" register-process="true">
          <object identity="mediaServer${index}" type="::Spotifice::MediaServer"/>
        </adapter>
        <option>./media_server.py</option>
        <property name="Ice.StdErr" value="mediaserver${index}.log"/>
        <property name="Ice.StdOut" value="mediaserver${index}.log"/>
        <property name="MediaServer.Content" value="/home/alberto/Escritorio/Curso 2526/SSDD/Trabajo SSDD/Trabajo-SSDD/media"/>
        <property name="MediaServer.Playlists" value="/home/alberto/Escritorio/Curso 2526/SSDD/Trabajo SSDD/Trabajo-SSDD/playlists"/>
      </server>
    </server-template>

    <!-- Definici칩n del servidor MediaRender en node2 -->
    <server-template id="MediaRenderTemplate">
      <parameter name="index"/>
      <server id="MediaRender-${index}" exe="python3" activation="always" pwd="/home/alberto/Escritorio/Curso 2526/SSDD/Trabajo SSDD/Trabajo-SSDD">
        <adapter name="MediaRenderAdapter" endpoints="tcp" register-process="true">
          <object identity="mediaRender${index}" type="::Spotifice::MediaRender"/>
        </adapter>
        <option>./media_render.py</option>
        <property name="Ice.StdErr" value="mediarender${index}.log"/>
        <property name="Ice.StdOut" value="mediarender${index}.log"/>
      </server>
    </server-template>

    <!-- Nodo 1: MediaServer -->
    <node name="node1">
      <server-instance template="MediaServerTemplate" index="1"/>
    </node>

    <!-- Nodo 2: MediaRender -->
    <node name="node2">
      <server-instance template="MediaRenderTemplate" index="1"/>
    </node>

    <!-- Propiedades globales -->
    <properties id="SpotificeProperties">
      <property name="Ice.Default.Locator" value="SpotificeGrid/Locator:tcp -h localhost -p 4061"/>
    </properties>

    <!-- Variables de distribuci칩n -->
    <distrib>
      <!-- Directorio donde est치n los scripts Python -->
      <directory>.</directory>
    </distrib>
  </application>
</icegrid>
