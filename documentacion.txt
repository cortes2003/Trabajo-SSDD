===============================================================================
  GUÃA COMPLETA PARA LA DEFENSA DEL TRABAJO DE ICEGRID - SPOTIFICE
===============================================================================

CONTENIDO:
1. Conceptos Fundamentales
2. Arquitectura Implementada
3. Archivos Clave
4. Comandos de AdministraciÃ³n
5. DemostraciÃ³n en Vivo
6. Preguntas DifÃ­ciles Esperadas
7. Ventajas de la ImplementaciÃ³n
8. Limitaciones Conocidas
9. CHECKLIST PRE-DEFENSA DETALLADO (â˜… CRÃTICO â˜…)
10. Cheat Sheet de 1 PÃ¡gina

===============================================================================
1. CONCEPTOS FUNDAMENTALES QUE DEBEN DOMINAR
===============================================================================

COMPONENTES DE ICEGRID
-----------------------

Registry (Puerto 4061):
  - Coordinador central del sistema
  - Responsabilidades:
    * Almacenar topologÃ­a de la aplicaciÃ³n
    * Gestionar estado de nodos y servidores
    * Proveer servicio Locator para descubrimiento
    * Gestionar activaciÃ³n de servidores
  - Persistencia: Usa LMDB (registry_data/)

Nodes (Nodos):
  - Node 1: Ejecuta MediaServer (gestiÃ³n de mÃºsica)
  - Node 2: Ejecuta MediaRender (reproducciÃ³n)
  - FunciÃ³n: Alojar y ejecutar los servidores de la aplicaciÃ³n
  - ComunicaciÃ³n: Se registran con el Registry al iniciar

Admin Permissions Verifier (Puerto 10002):
  - FunciÃ³n: VerificaciÃ³n de credenciales administrativas
  - ImplementaciÃ³n: Servidor Python que acepta cualquier credencial 
    (simplificado para desarrollo)

===============================================================================
2. ARQUITECTURA IMPLEMENTADA
===============================================================================

FLUJO DE COMUNICACIÃ“N:
----------------------
Cliente â†’ Registry (Locator) â†’ Descubre servicios â†’ Se conecta directamente

ExplicaciÃ³n detallada:
1. Cliente configura Ice.Default.Locator apuntando al Registry
2. Usa identidades indirectas (mediaServer1, mediaRender1)
3. Registry resuelve las identidades a endpoints reales
4. Cliente se conecta directamente al servicio

===============================================================================
3. ARCHIVOS CLAVE Y SU PROPÃ“SITO
===============================================================================

config/application.xml
----------------------
Preguntas esperadas:
- Â¿QuÃ© define este archivo? 
  â†’ TopologÃ­a de la aplicaciÃ³n (nodos, servidores, propiedades)
  
- Â¿QuÃ© es un server-template? 
  â†’ Plantilla reutilizable para definir servidores
  
- Â¿QuÃ© significa activation="always"? 
  â†’ Servidor se inicia automÃ¡ticamente al desplegar, menor latencia.
  
- Â¿QuÃ© hace register-process="true"? 
  â†’ Registra el adaptador en el Registry para descubrimiento

Elementos importantes:
<server id="MediaServer-${index}" exe="python3" activation="always">
  <adapter name="MediaServerAdapter" endpoints="tcp" register-process="true">
    <object identity="mediaServer${index}" type="::Spotifice::MediaServer"/>
  </adapter>
</server>

config/registry.config
----------------------
Claves importantes:
- IceGrid.InstanceName=SpotificeGrid â†’ Nombre de la instancia
- IceGrid.Registry.LMDB.Path â†’ Persistencia de configuraciÃ³n
- IceGrid.Registry.Client.Endpoints â†’ Puerto del Locator (4061)
- AdminPermissionsVerifier â†’ Apunta al verifier en puerto 10002

scripts/deploy_expect.py
-------------------------
Por quÃ© pexpect:
- icegridadmin es interactivo (pide credenciales)
- pexpect automatiza la interacciÃ³n simulando usuario
- Alternativa: usar API de Python directamente (mÃ¡s complejo)

===============================================================================
4. COMANDOS DE ADMINISTRACIÃ“N
===============================================================================

COMANDOS BÃSICOS QUE DEBEN CONOCER:

# Conectarse al admin:
icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin

# Una vez dentro (prompt >>>):

>>> application list              # Listar aplicaciones desplegadas
>>> server list                   # Ver todos los servidores
>>> server state MediaServer-1    # Estado de un servidor especÃ­fico
>>> node list                     # Ver nodos disponibles
>>> node show node1               # Info detallada del nodo
>>> server start MediaServer-1    # Iniciar servidor manualmente
>>> server stop MediaServer-1     # Detener servidor manualmente
>>> exit                          # Salir

===============================================================================
5. DEMOSTRACIÃ“N EN VIVO
===============================================================================

PREPARACIÃ“N ANTES DE LA DEFENSA:

# Limpiar estado previo
./scripts/stop_python.py
rm -rf registry_data/ node*_data/ *.log

# Asegurar que media existe
make media

# Iniciar sistema
./scripts/start-all.sh

FLUJO DE DEMOSTRACIÃ“N RECOMENDADO:

1. Mostrar procesos corriendo:
   pgrep -fa icegrid
   
   Explicar cada proceso: verifier, registry, node1, node2

2. Verificar estado con icegridadmin:
   icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
     -u admin -p admin
   
   Dentro: application list, server list, server state MediaServer-1

3. Mostrar logs:
   cat mediaserver1.log
   cat mediarender1.log

4. Ejecutar cliente de lÃ­nea de comandos:
   ./media_control_grid.py
   
   Mostrar cÃ³mo descubre servicios automÃ¡ticamente

5. Ejecutar interfaz grÃ¡fica:
   python3 media_control_v1.py control_gui.config
   
   Demostrar controles de reproducciÃ³n

6. Simular fallo de servidor:
   # Matar MediaServer manualmente
   pkill -9 -f media_server.py
   
   # Esperar unos segundos y mostrar que IceGrid lo reinicia
   # (si activation="always" estÃ¡ configurado)

===============================================================================
6. PREGUNTAS DIFÃCILES ESPERADAS
===============================================================================

P: Â¿Por quÃ© usaron activation="always" en lugar de "on-demand"?
R: 
- always: Servidor siempre corriendo, menor latencia en primera conexiÃ³n
- on-demand: Servidor inicia solo cuando se solicita, ahorra recursos
- Para este proyecto: always es mÃ¡s simple y apropiado para servicios que 
  se usan constantemente (streaming de audio)

P: Â¿CÃ³mo maneja IceGrid mÃºltiples clientes simultÃ¡neos?
R:
- Cada servidor puede manejar mÃºltiples conexiones (hilos de Ice)
- El adaptador registrado acepta conexiones TCP concurrentes
- Para verdadero balanceo: se necesitarÃ­an rÃ©plicas (nivel intermedio/avanzado)

P: Â¿QuÃ© pasa si el Registry cae?
R:
- Clientes ya conectados: siguen funcionando (conexiÃ³n directa)
- Nuevos clientes: no pueden descubrir servicios
- SoluciÃ³n: Registry con replicaciÃ³n (no implementado en nivel bÃ¡sico)
- Los datos persisten en LMDB â†’ al reiniciar Registry, recupera estado

P: Â¿Por quÃ© el cliente usa identidades indirectas (mediaServer1) 
   en lugar de endpoints directos?
R:
- Desacoplamiento: Cliente no necesita saber puertos/IPs
- Flexibilidad: Servidor puede cambiar de puerto sin modificar cliente
- Escalabilidad: IceGrid puede balancear entre rÃ©plicas usando misma identidad
- GestiÃ³n centralizada: Registry controla la topologÃ­a

P: Expliquen el ciclo de vida de una peticiÃ³n de audio
R:
1. Cliente solicita play() en MediaRender
2. MediaRender llama open_stream() en MediaServer pasando su identidad
3. MediaServer crea StreamedFile asociado a la identidad del render
4. MediaRender llama repetidamente get_audio_chunk() con su identidad
5. MediaServer busca el stream por identidad y devuelve chunks
6. Al terminar, MediaRender llama close_stream()

P: Â¿CÃ³mo implementarÃ­an replicaciÃ³n de MediaServer (nivel intermedio)?
R:
1. AÃ±adir otra instancia en application.xml: MediaServer-2 en node1
2. Ambos con misma identidad adaptada: usar ReplicatedAdapter
3. IceGrid distribuye peticiones automÃ¡ticamente
4. Necesario: lÃ³gica de consistencia si hay estado compartido 
   (en este caso, biblioteca es read-only)

===============================================================================
7. VENTAJAS DE LA IMPLEMENTACIÃ“N
===============================================================================

Destacar en la defensa:
âœ“ SeparaciÃ³n de responsabilidades: Servidor de mÃºsica vs reproducciÃ³n
âœ“ Descubrimiento dinÃ¡mico: Cliente no hardcodea endpoints
âœ“ GestiÃ³n centralizada: Un punto de control (Registry)
âœ“ Preparado para escalar: AÃ±adir rÃ©plicas es trivial
âœ“ Interfaz grÃ¡fica integrada: Demuestra versatilidad del sistema
âœ“ Scripts automatizados: FÃ¡cil de desplegar y gestionar

===============================================================================
8. LIMITACIONES CONOCIDAS (SER HONESTOS)
===============================================================================

âŒ Sin replicaciÃ³n real de servidores (nivel bÃ¡sico)
âŒ Sin IcePatch2 para distribuciÃ³n de cÃ³digo
âŒ Sin balanceo de carga activo
âŒ Verificador de permisos simplificado (acepta cualquier credencial)
âŒ No hay monitorizaciÃ³n/mÃ©tricas avanzadas
âŒ Todos los componentes en localhost (no distribuido fÃ­sicamente)

CÃ³mo responder: "Esto corresponde al nivel bÃ¡sico. Para nivel 
intermedio/avanzado implementarÃ­amos [mencionar mejoras]"

===============================================================================
â˜…â˜…â˜… 9. CHECKLIST PRE-DEFENSA DETALLADO (CRÃTICO) â˜…â˜…â˜…
===============================================================================

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
9.1 SISTEMA CORRIENDO SIN ERRORES âœ…
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

VERIFICACIÃ“N COMPLETA PASO A PASO:

# 1. Asegurar que media existe
make media

# 2. Limpiar estado previo completamente
./scripts/stop_python.py
rm -rf registry_data/ node1_data/ node2_data/ node1_output/ node2_output/ *.log

# 3. Iniciar el sistema
./scripts/start-all.sh

# 4. ESPERAR 5-10 segundos para que todo arranque
sleep 10

# 5. Verificar que TODOS los procesos estÃ¡n corriendo
pgrep -fa "admin_verifier.py"   # Debe mostrar PID y el comando
pgrep -fa "icegridregistry"     # Debe mostrar PID y el comando
pgrep -fa "icegridnode"         # Debe mostrar 2 lÃ­neas (node1 y node2)

# 6. Verificar que los servidores iniciaron
pgrep -fa "media_server.py"     # Debe mostrar PID
pgrep -fa "media_render.py"     # Debe mostrar PID

SEÃ‘ALES DE QUE TODO ESTÃ BIEN:

# Este comando debe mostrar 6 procesos:
ps aux | grep -E "(icegrid|admin_verifier|media_)" | grep -v grep

# Salida esperada (similar a):
# alberto  1234  ... python3 /path/to/config/admin_verifier.py
# alberto  1235  ... icegridregistry --Ice.Config=config/registry.config
# alberto  1236  ... icegridnode --Ice.Config=config/node1.config
# alberto  1237  ... icegridnode --Ice.Config=config/node2.config
# alberto  1238  ... python3 ./media_server.py config/node1.config
# alberto  1239  ... python3 ./media_render.py config/node2.config

LOGS QUE NO DEBEN TENER ERRORES:

# Verificar logs de servidores (deben existir y tener contenido)
cat mediaserver1.log    # Debe mostrar "64 tracks loaded" o similar
cat mediarender1.log    # Debe mostrar "MediaRender started"

# NO debe haber lÃ­neas con "ERROR", "FAILED", "Exception" (excepto las esperadas)

TEST DE CONECTIVIDAD:

# Probar el cliente CLI
./media_control_grid.py

# Debe mostrar:
# === Cliente Spotifice con IceGrid ===
# Conectando a MediaServer...
# âœ“ Conectado a MediaServer
# Conectando a MediaRender...
# âœ“ Conectado a MediaRender
# ... (lista de canciones)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
9.2 CONOCER CREDENCIALES: admin/admin ğŸ”‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Â¿DÃ“NDE SE USAN?

Las credenciales admin/admin se usan SOLO para comandos administrativos 
de IceGrid, NO para los clientes normales.

EXPLICACIÃ“N PARA LA DEFENSA:

En config/admin_verifier.py - Nuestro verificador simplificado:

def checkPermissions(self, userId, password, current=None):
    print(f"Verificando credenciales: {userId}")
    # SIMPLIFICADO: acepta cualquier credencial
    # En producciÃ³n serÃ­a: consultar BD, LDAP, etc.
    return userId, ""  # Siempre acepta

PUNTO CLAVE: En un sistema real, este verificador consultarÃ­a una base de 
datos o servicio de autenticaciÃ³n. Para este proyecto educativo, aceptamos 
cualquier credencial para simplificar.

CONFIGURACIÃ“N EN registry.config:

# config/registry.config
IceGrid.Registry.AdminPermissionsVerifier=AdminVerifier:tcp -h localhost -p 10002

Esto le dice al Registry que consulte nuestro servidor de verificaciÃ³n antes 
de permitir comandos administrativos.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
9.3 TENER LOGS LISTOS PARA MOSTRAR ğŸ“‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

LOGS CRÃTICOS Y QUÃ‰ BUSCAR:

A) Log de MediaServer (mediaserver1.log):

cat mediaserver1.log

QuÃ© debe mostrar:
MediaServer iniciado. Esperando peticiones...
Cargadas 64 pistas de audio
Cargadas 3 playlists
Adaptador 'MediaServerAdapter' activado en: tcp -h X.X.X.X -p XXXXX

Si preguntan: Este log confirma que el servidor cargÃ³ toda la biblioteca 
de mÃºsica y estÃ¡ escuchando conexiones.

B) Log de MediaRender (mediarender1.log):

cat mediarender1.log

QuÃ© debe mostrar:
MediaRender iniciado
GstPlayer configurado correctamente
Adaptador 'MediaRenderAdapter' activado en: tcp -h X.X.X.X -p XXXXX

C) Logs del Registry (opcionales pero Ãºtiles):

tail -20 registry_data/log/master.log 2>/dev/null || echo "No disponible"

D) Logs de los Nodos:

# Node 1 output
cat node1_output/MediaServer-1/stderr 2>/dev/null
cat node1_output/MediaServer-1/stdout 2>/dev/null

# Node 2 output  
cat node2_output/MediaRender-1/stderr 2>/dev/null
cat node2_output/MediaRender-1/stdout 2>/dev/null

COMANDO RÃPIDO PARA MOSTRAR TODOS:

echo "=== MediaServer Log ===" && cat mediaserver1.log && \
echo -e "\n=== MediaRender Log ===" && cat mediarender1.log

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
9.4 PRACTICAR COMANDOS icegridadmin MÃS COMUNES ğŸ› ï¸
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

CONECTARSE AL ADMIN:

icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin

Una vez dentro, verÃ¡n el prompt: >>> 

COMANDOS ESENCIALES (MEMORIZAR):

Ver aplicaciones desplegadas:
>>> application list
SpotificeApp

Ver detalles de la aplicaciÃ³n:
>>> application describe SpotificeApp
# Muestra el XML completo de la aplicaciÃ³n

Listar todos los servidores:
>>> server list
SpotificeApp.MediaServer-1
SpotificeApp.MediaRender-1

Ver estado de un servidor especÃ­fico:
>>> server state SpotificeApp.MediaServer-1
active (pid: 12345)

Posibles estados:
- active: Corriendo correctamente
- inactive: Detenido
- activating: IniciÃ¡ndose
- deactivating: DeteniÃ©ndose

Listar nodos:
>>> node list
node1
node2

Ver informaciÃ³n de un nodo:
>>> node show node1
# Muestra: hostname, OS, servidores que ejecuta, load average, etc.

Detener un servidor manualmente:
>>> server stop SpotificeApp.MediaServer-1

Iniciar un servidor manualmente:
>>> server start SpotificeApp.MediaServer-1

Ver adaptadores registrados:
>>> adapter endpoints SpotificeApp.MediaServerAdapter
tcp -h 127.0.0.1 -p 42123 -t 60000

Salir:
>>> exit

MODO "ONE-LINER" (sin entrar al shell interactivo):

# Ver estado de todos los servidores
icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin -e "server list"

# Ver estado de MediaServer-1
icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin -e "server state SpotificeApp.MediaServer-1"

# Ver todos los nodos
icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin -e "node list"

SCRIPT RÃPIDO DE DIAGNÃ“STICO (crear check-status.sh):

#!/bin/bash
LOCATOR="--Ice.Default.Locator=SpotificeGrid/Locator:tcp -h localhost -p 4061"
CREDS="-u admin -p admin"

echo "=== Aplicaciones ==="
icegridadmin $LOCATOR $CREDS -e "application list"

echo -e "\n=== Servidores ==="
icegridadmin $LOCATOR $CREDS -e "server list"

echo -e "\n=== Estado MediaServer-1 ==="
icegridadmin $LOCATOR $CREDS -e "server state SpotificeApp.MediaServer-1"

echo -e "\n=== Estado MediaRender-1 ==="
icegridadmin $LOCATOR $CREDS -e "server state SpotificeApp.MediaRender-1"

echo -e "\n=== Nodos ==="
icegridadmin $LOCATOR $CREDS -e "node list"

# Ejecutar:
chmod +x check-status.sh
./check-status.sh

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
9.5 EXPLICAR CADA ARCHIVO DE CONFIGURACIÃ“N ğŸ“„
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

A) config/registry.config
--------------------------

# Nombre de la instancia de IceGrid
IceGrid.InstanceName=SpotificeGrid

# Puerto donde escucha el Locator (usado por clientes)
IceGrid.Registry.Client.Endpoints=tcp -p 4061

# Puerto para comunicaciÃ³n entre Registry y Nodes
IceGrid.Registry.Internal.Endpoints=tcp

# Puerto para comandos administrativos
IceGrid.Registry.AdminSessionManager.Endpoints=tcp

# Base de datos LMDB para persistencia
IceGrid.Registry.LMDB.Path=registry_data
IceGrid.Registry.LMDB.MapSize=10

# Verificador de permisos administrativos
IceGrid.Registry.AdminPermissionsVerifier=AdminVerifier:tcp -h localhost -p 10002

# Desactivar logs verbosos
Ice.Trace.Network=0
Ice.Trace.Protocol=0

EXPLICAR: El Registry es el cerebro de IceGrid. Almacena toda la configuraciÃ³n 
en LMDB (base de datos embebida), expone el Locator en puerto 4061 para que 
los clientes descubran servicios, y verifica credenciales administrativas 
consultando nuestro servidor en puerto 10002.

B) config/node1.config
----------------------

# Nombre Ãºnico del nodo
IceGrid.Node.Name=node1

# CÃ³mo conectarse al Registry
Ice.Default.Locator=SpotificeGrid/Locator:tcp -h localhost -p 4061

# Endpoints para comunicaciÃ³n con Registry
IceGrid.Node.Endpoints=tcp

# Directorio para datos persistentes del nodo
IceGrid.Node.Data=node1_data

# Directorio donde se guardan logs de servidores
IceGrid.Node.Output=node1_output

# Desactivar logs verbosos
Ice.Trace.Network=0
Ice.Trace.Protocol=0

EXPLICAR: Los nodos son los "trabajadores" que ejecutan los servidores. 
node1 ejecuta MediaServer. Cada nodo se registra con el Registry usando 
el Locator, y almacena sus datos en node1_data/. Los logs de los servidores 
que ejecuta van a node1_output/.

C) config/node2.config
----------------------

IdÃ©ntico a node1.config pero con:

IceGrid.Node.Name=node2
IceGrid.Node.Data=node2_data
IceGrid.Node.Output=node2_output

EXPLICAR: node2 ejecuta MediaRender. En un sistema real, estos nodos 
estarÃ­an en mÃ¡quinas fÃ­sicas diferentes.

D) config/application.xml (CRÃTICO)
------------------------------------

Este es el descriptor de la aplicaciÃ³n. Estructura clave:

<icegrid>
  <application name="SpotificeApp">
    
    <!-- PLANTILLA para MediaServer -->
    <server-template id="MediaServerTemplate">
      <parameter name="index"/>  <!-- Permite crear mÃºltiples instancias -->
      <server id="MediaServer-${index}" 
              exe="python3"  <!-- Ejecutable -->
              activation="always"  <!-- Siempre corriendo -->
              pwd="${application.distrib}">  <!-- Directorio de trabajo -->
        
        <!-- Argumentos del comando -->
        <option>./media_server.py</option>
        <option>config/node${index}.config</option>
        
        <!-- ConfiguraciÃ³n especÃ­fica del servidor -->
        <properties>
          <property name="MediaServer.Content" value="media"/>
          <property name="MediaServer.Playlists" value="playlists"/>
        </properties>
        
        <!-- Adaptador Ice -->
        <adapter name="MediaServerAdapter" 
                 endpoints="tcp"  <!-- Asigna puerto automÃ¡ticamente -->
                 register-process="true">  <!-- Registra en Registry -->
          <object identity="mediaServer${index}"  <!-- Identidad del objeto -->
                  type="::Spotifice::MediaServer"/>
        </adapter>
      </server>
    </server-template>
    
    <!-- PLANTILLA para MediaRender (similar estructura) -->
    <server-template id="MediaRenderTemplate">
      <!-- ... -->
    </server-template>
    
    <!-- ConfiguraciÃ³n de NODOS -->
    <node name="node1">
      <server-instance template="MediaServerTemplate" index="1"/>
    </node>
    
    <node name="node2">
      <server-instance template="MediaRenderTemplate" index="1"/>
    </node>
    
  </application>
</icegrid>

PUNTOS CLAVE PARA EXPLICAR:

1. server-template: Plantilla reutilizable (podrÃ­amos crear MediaServer-2, 
   MediaServer-3 fÃ¡cilmente)

2. activation="always": El servidor arranca automÃ¡ticamente cuando se 
   despliega la aplicaciÃ³n (alternativa: on-demand)

3. register-process="true": Permite que el Registry haga tracking del 
   proceso y lo reinicie si crashea

4. <adapter> con endpoints="tcp": IceGrid asigna un puerto libre 
   automÃ¡ticamente. El adaptador se registra en el Registry.

5. <object identity="mediaServer${index}">: Esta es la identidad que 
   usan los clientes para encontrar el servicio:
   
   proxy = ic.stringToProxy("mediaServer1")  # Identidad indirecta
   locator.findObjectById(identity)  # Registry resuelve a endpoint real

E) config/admin_verifier.py
----------------------------

class PermissionsVerifierI(Glacier2.PermissionsVerifier):
    def checkPermissions(self, userId, password, current=None):
        # Simplificado: acepta cualquier credencial
        print(f"âœ“ Credenciales aceptadas: {userId}")
        return (userId, "")

EXPLICAR: Este es un servidor Ice que implementa la interfaz 
Glacier2.PermissionsVerifier. El Registry lo consulta antes de permitir 
comandos administrativos. En producciÃ³n, verificarÃ­a contra LDAP, base 
de datos, etc. AquÃ­ aceptamos cualquier credencial para simplificar.

F) control_gui.config (Cliente)
--------------------------------

# CÃ³mo encontrar servicios (a travÃ©s del Registry)
Ice.Default.Locator=SpotificeGrid/Locator:tcp -h localhost -p 4061

# Identidades indirectas (el Locator las resuelve)
MediaServer.Proxy=mediaServer1
MediaRender.Proxy=mediaRender1

EXPLICAR: El cliente NO conoce puertos ni IPs de los servidores. Solo 
conoce sus identidades (mediaServer1, mediaRender1). El Locator del 
Registry resuelve estas identidades a endpoints TCP reales.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
9.6 DIFERENCIAS CON DESPLIEGUE DIRECTO ğŸ”„
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

TABLA COMPARATIVA:

Aspecto              | Despliegue Directo          | Despliegue con IceGrid
---------------------|-----------------------------|---------------------------------
Inicio de servicios  | Manual: ./media_server.py   | AutomÃ¡tico: IceGrid inicia
Descubrimiento       | Hardcodeado: tcp -p 10000   | DinÃ¡mico: mediaServer1 (Locator)
Puertos              | Fijos en configs            | Asignados dinÃ¡micamente
Tolerancia a fallos  | Si crashea, queda caÃ­do     | IceGrid puede reiniciar auto
Escalabilidad        | DifÃ­cil aÃ±adir rÃ©plicas     | FÃ¡cil: aÃ±adir server-instance
GestiÃ³n              | Scripts bash manuales       | Comandos icegridadmin
ConfiguraciÃ³n        | Distribuida en .config      | Centralizada en application.xml
MonitorizaciÃ³n       | Manual (ver logs)           | icegridadmin server state
Despliegue           | Copiar archivos manual      | IcePatch2 (nivel intermedio)

FLUJO DE CONEXIÃ“N - DIFERENCIAS:

DESPLIEGUE DIRECTO:
Cliente â†’ Lee config â†’ Extrae endpoint fijo â†’ Conecta directamente
   |
   v
MediaServer (tcp -p 10000 siempre)

DESPLIEGUE ICEGRID:
Cliente â†’ Lee config â†’ Ve identidad indirecta "mediaServer1"
   |
   v
Registry (Locator) â†’ Consulta registro de adaptadores
   |
   v
Resuelve a endpoint real (tcp -h 127.0.0.1 -p 42123)
   |
   v
Cliente se conecta directamente al servidor

VENTAJA CLAVE: Si MediaServer se reinicia en otro puerto, el cliente no 
necesita cambiar su configuraciÃ³n. El Registry siempre tendrÃ¡ el endpoint 
actualizado.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
9.7 FLUJO DE UNA PETICIÃ“N COMPLETA ğŸ”„
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ESCENARIO: Cliente pide reproducir una canciÃ³n

FASE 1: Descubrimiento (una sola vez al inicio)

# Cliente (media_control_v1.py)
ic = Ice.initialize(sys.argv)  # Lee control_gui.config
# Ice.Default.Locator=SpotificeGrid/Locator:tcp -h localhost -p 4061

# 1. Cliente solicita proxy indirecto
server_proxy = ic.stringToProxy("mediaServer1")  # Identidad indirecta
render_proxy = ic.stringToProxy("mediaRender1")

# 2. Ice automÃ¡ticamente consulta al Locator del Registry
#    Registry busca en su base de datos:
#    - Â¿QuÃ© nodo tiene "mediaServer1"? -> node1
#    - Â¿QuÃ© endpoints tiene el adaptador? -> tcp -h 127.0.0.1 -p 42123

# 3. Cliente recibe proxy directo y cachea el endpoint
server = Spotifice.MediaServerPrx.checkedCast(server_proxy)
render = Spotifice.MediaRenderPrx.checkedCast(render_proxy)

FASE 2: OperaciÃ³n de ReproducciÃ³n

# 4. Usuario hace clic en "Play" de una canciÃ³n
track_id = "Portal2-01-The_Courtesy_Call.mp3"

# 5. Cliente llama a MediaRender
render.load_track(track_id)  # InvocaciÃ³n Ice

DESGLOSE DE render.load_track(track_id):

Cliente                    MediaRender (node2)                MediaServer (node1)
  |                              |                                   |
  |--load_track(track_id)------> |                                   |
  |                              |                                   |
  |                              |-- get_track_info(track_id) -----> |
  |                              |                                   | (busca en self.library)
  |                              | <---------- TrackInfo ----------- |
  |                              |                                   |
  |                              | (guarda en self.current_track)    |
  |                              |                                   |
  |                              |-- open_stream(track_id, ------->  |
  |                              |    render_identity)               |
  |                              |                                   | (crea StreamedFile)
  |                              | <---------- OK ------------------- |
  |                              |                                   |
  | <----------- OK ------------ |                                   |
  |                              |                                   |
  |-- play() -----------------> |                                   |
  |                              |                                   |
  |                              | (inicia GstPlayer)                |
  |                              | (thread: comienza a pedir chunks) |
  |                              |                                   |
  | <----------- OK ------------ |                                   |
  |                              |                                   |
  |                              | [loop en thread GstPlayer]        |
  |                              |-- get_audio_chunk() ------------> |
  |                              | <-- bytes[4096] ------------------ |
  |                              |-- get_audio_chunk() ------------> |
  |                              | <-- bytes[4096] ------------------ |
  |                              |      ...                          |
  |                              |-- get_audio_chunk() ------------> |
  |                              | <-- bytes[0] (fin) --------------- |
  |                              |                                   |
  |                              | (emite seÃ±al track_exhausted)     |
  |                              |                                   |

FASE 3: ComunicaciÃ³n de Red (detalle tÃ©cnico)

Cada invocaciÃ³n Ice (ej: render.load_track(track_id)) implica:

1. Marshalling: Ice serializa los parÃ¡metros (track_id) en formato binario
2. EnvÃ­o TCP: Cliente envÃ­a mensaje Ice al endpoint del MediaRender
3. RecepciÃ³n: MediaRender recibe mensaje, extrae parÃ¡metros
4. EjecuciÃ³n: MediaRender ejecuta load_track() en el servant
5. MediaRender hace llamada anidada: self.server.get_track_info(track_id)
   - Esto es otra invocaciÃ³n Ice al MediaServer
   - Se repite el ciclo marshalling/envÃ­o/recepciÃ³n
6. Respuesta: Resultados se serializan y envÃ­an de vuelta al cliente

FASE 4: Streaming de Audio

# Dentro de GstPlayer (thread separado en MediaRender)
def get_chunk(self):
    chunk = self.render.server.get_audio_chunk(
        self.track_id,
        self.render.render_identity  # Identifica el stream
    )
    if not chunk:
        return None  # Fin del archivo
    return chunk

# Este mÃ©todo se llama ~100 veces por segundo mientras reproduce

PUNTO CLAVE: El streaming es "pull-based". MediaRender pide chunks bajo 
demanda (no push). Si MediaRender se pausa, deja de pedir chunks temporalmente.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
9.8 REINICIAR RÃPIDO SI ALGO FALLA DURANTE DEMO âš¡
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PROBLEMA: "Nada responde"

# 1. Detener TODO inmediatamente (15 segundos)
pkill -9 icegridregistry
pkill -9 icegridnode
pkill -9 -f admin_verifier.py
pkill -9 -f media_server.py
pkill -9 -f media_render.py

# 2. Limpiar estado corrupto
rm -rf registry_data/ node*_data/ *.log

# 3. Reiniciar limpio
./scripts/start-all.sh

# 4. Esperar 10 segundos
sleep 10

# 5. Verificar
pgrep -fa icegrid

PROBLEMA: "Cliente no encuentra servicios"

# Verificar que el Registry responde
icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin -e "application list"

# Si no responde: reiniciar solo el Registry
pkill -9 icegridregistry
icegridregistry --Ice.Config=config/registry.config --daemon

# Esperar 5 segundos y redesplegar
sleep 5
./scripts/deploy_expect.py

PROBLEMA: "Un servidor estÃ¡ caÃ­do"

# Ver estado
icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin -e "server state SpotificeApp.MediaServer-1"

# Si dice "inactive", iniciarlo manualmente
icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin -e "server start SpotificeApp.MediaServer-1"

PROBLEMA: "Logs muestran excepciÃ³n en MediaServer"

# Reiniciar solo ese servidor
icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin -e "server stop SpotificeApp.MediaServer-1"
  
icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" \
  -u admin -p admin -e "server start SpotificeApp.MediaServer-1"

SCRIPT DE EMERGENCIA (guardar como emergency-restart.sh):

#!/bin/bash
set -e

echo "ğŸš¨ REINICIO DE EMERGENCIA ğŸš¨"

echo "1. Matando todos los procesos Ice..."
pkill -9 icegridregistry || true
pkill -9 icegridnode || true
pkill -9 -f admin_verifier.py || true
pkill -9 -f media_server.py || true
pkill -9 -f media_render.py || true

echo "2. Esperando limpieza..."
sleep 2

echo "3. Limpiando datos corruptos..."
rm -rf registry_data/ node1_data/ node2_data/ node1_output/ node2_output/ *.log

echo "4. Reiniciando sistema..."
./scripts/start-all.sh

echo "5. Esperando estabilizaciÃ³n..."
sleep 10

echo "6. Verificando estado..."
./check-status.sh

echo "âœ… Sistema reiniciado. Verifica logs arriba."

# Ejecutar:
chmod +x emergency-restart.sh

DURANTE LA DEMO: Si algo falla, ejecuta ./emergency-restart.sh y sigue 
hablando mientras se reinicia (20-30 segundos).

===============================================================================
10. CHEAT SHEET DE 1 PÃGINA (IMPRIMIR Y TENER A MANO)
===============================================================================

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           CHEAT SHEET - DEFENSA ICEGRID SPOTIFICE          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ VERIFICACIÃ“N PRE-DEMO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ make media && ./scripts/stop_python.py && rm -rf *_data/ *.log
â”‚ ./scripts/start-all.sh && sleep 10
â”‚ pgrep -fa icegrid   # Debe mostrar 3 procesos
â”‚ cat mediaserver1.log mediarender1.log   # Sin errores
â”‚ ./media_control_grid.py   # Debe conectar
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ CREDENCIALES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Usuario:   admin  (cualquiera sirve en nuestro sistema)
â”‚ Password:  admin  (simplificado para desarrollo)
â”‚ Uso:       Solo comandos icegridadmin, NO clientes normales
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ COMANDOS ICEGRIDADMIN ESENCIALES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ # Conectar:
â”‚ icegridadmin --Ice.Default.Locator="SpotificeGrid/Locator:tcp -h localhost -p 4061" -u admin -p admin
â”‚
â”‚ # Una vez dentro:
â”‚ >>> application list              # Ver apps desplegadas
â”‚ >>> server list                   # Ver todos los servidores
â”‚ >>> server state SpotificeApp.MediaServer-1  # Estado de servidor
â”‚ >>> node list                     # Ver nodos disponibles
â”‚ >>> node show node1               # Info detallada del nodo
â”‚ >>> server stop SpotificeApp.MediaServer-1   # Detener servidor
â”‚ >>> server start SpotificeApp.MediaServer-1  # Iniciar servidor
â”‚ >>> exit                          # Salir
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ ARCHIVOS CLAVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ config/registry.config     â†’ Cerebro: Locator (4061), LMDB
â”‚ config/node1.config        â†’ Nodo trabajador (MediaServer)
â”‚ config/node2.config        â†’ Nodo trabajador (MediaRender)
â”‚ config/application.xml     â†’ TopologÃ­a: templates, nodos, servers
â”‚ config/admin_verifier.py   â†’ AutenticaciÃ³n simplificada
â”‚ control_gui.config         â†’ Cliente: usa Locator para descubrir
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ FLUJO DE UNA PETICIÃ“N â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Cliente lee Ice.Default.Locator de config
â”‚ 2. Solicita proxy: ic.stringToProxy("mediaServer1")
â”‚ 3. Ice consulta Registry Locator automÃ¡ticamente
â”‚ 4. Registry resuelve identidad â†’ endpoint TCP real
â”‚ 5. Cliente cachea endpoint y conecta directamente
â”‚ 6. Invocaciones Ice: marshalling â†’ TCP â†’ unmarshalling
â”‚ 7. Streaming: MediaRender pide chunks en loop (pull-based)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ VS DESPLIEGUE DIRECTO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Directo:   Puertos fijos, inicio manual, sin failover
â”‚ IceGrid:   Puertos dinÃ¡micos, activaciÃ³n auto, reinicio auto
â”‚ Ventaja:   Descubrimiento dinÃ¡mico, gestiÃ³n centralizada
â”‚ Desventaja: Complejidad adicional (Registry, Nodes, XML)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ REINICIO DE EMERGENCIA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ pkill -9 icegridregistry icegridnode -f admin_verifier.py
â”‚ rm -rf registry_data/ node*_data/ *.log
â”‚ ./scripts/start-all.sh && sleep 10 && pgrep -fa icegrid
â”‚ # O ejecutar: ./emergency-restart.sh
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ LOGS A MOSTRAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cat mediaserver1.log   â†’ "64 tracks loaded"
â”‚ cat mediarender1.log   â†’ "MediaRender started"
â”‚ cat node1_output/MediaServer-1/stdout   â†’ Salida del servidor
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ PUNTOS CLAVE DE LA DEFENSA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ IceGrid gestiona ciclo de vida de servicios
â”‚ âœ“ Locator permite descubrimiento dinÃ¡mico
â”‚ âœ“ ActivaciÃ³n "always" mantiene servidores corriendo
â”‚ âœ“ register-process=true permite tracking de procesos
â”‚ âœ“ application.xml centraliza topologÃ­a
â”‚ âœ“ Identidades indirectas desacoplan cliente de endpoints
â”‚ âœ“ Preparado para escalar (aÃ±adir rÃ©plicas fÃ¡cilmente)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

===============================================================================
FRASE DE CIERRE POTENTE
===============================================================================

"Hemos implementado un despliegue bÃ¡sico pero sÃ³lido de Spotifice con IceGrid,
demostrando comprensiÃ³n de los conceptos fundamentales de sistemas distribuidos
gestionados. La arquitectura estÃ¡ preparada para escalar a niveles mÃ¡s complejos
con replicaciÃ³n, balanceo de carga e IcePatch2."

===============================================================================
                              Â¡Ã‰XITO EN LA DEFENSA! ğŸ‰
===============================================================================